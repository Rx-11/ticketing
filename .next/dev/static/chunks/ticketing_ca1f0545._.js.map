{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20Folder/project/tartanhacks/ticketing/lib/stake.ts"],"sourcesContent":["// lib/stake.ts\r\nexport function requiredStakeXrp(score: number): string {\r\n  // Simple, obvious curve for demo:\r\n  // score 0 => 25 XRP\r\n  // score 80 => ~5 XRP\r\n  const maxStake = 2.5;\r\n  const minStake = 0.5;\r\n\r\n  const clamped = Math.max(0, Math.min(100, score));\r\n  const t = clamped / 100; // 0..1\r\n  const stake = maxStake - (maxStake - minStake) * t;\r\n\r\n  // keep nice formatting\r\n  return stake.toFixed(2).replace(/\\.?0+$/, \"\");\r\n}\r\n"],"names":[],"mappings":"AAAA,eAAe;;;;;AACR,SAAS,iBAAiB,KAAa;IAC5C,kCAAkC;IAClC,oBAAoB;IACpB,qBAAqB;IACrB,MAAM,WAAW;IACjB,MAAM,WAAW;IAEjB,MAAM,UAAU,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK;IAC1C,MAAM,IAAI,UAAU,KAAK,OAAO;IAChC,MAAM,QAAQ,WAAW,CAAC,WAAW,QAAQ,IAAI;IAEjD,uBAAuB;IACvB,OAAO,MAAM,OAAO,CAAC,GAAG,OAAO,CAAC,UAAU;AAC5C"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20Folder/project/tartanhacks/ticketing/lib/hash.ts"],"sourcesContent":["// lib/hash.ts\r\nexport async function sha256Hex(input: string): Promise<string> {\r\n  const enc = new TextEncoder();\r\n  const bytes = enc.encode(input);\r\n  const digest = await crypto.subtle.digest(\"SHA-256\", bytes);\r\n  return [...new Uint8Array(digest)].map(b => b.toString(16).padStart(2, \"0\")).join(\"\");\r\n}\r\n\r\nexport function randomHex(bytes: number): string {\r\n  const arr = new Uint8Array(bytes);\r\n  crypto.getRandomValues(arr);\r\n  return [...arr].map(b => b.toString(16).padStart(2, \"0\")).join(\"\");\r\n}\r\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;;AACP,eAAe,UAAU,KAAa;IAC3C,MAAM,MAAM,IAAI;IAChB,MAAM,QAAQ,IAAI,MAAM,CAAC;IACzB,MAAM,SAAS,MAAM,OAAO,MAAM,CAAC,MAAM,CAAC,WAAW;IACrD,OAAO;WAAI,IAAI,WAAW;KAAQ,CAAC,GAAG,CAAC,CAAA,IAAK,EAAE,QAAQ,CAAC,IAAI,QAAQ,CAAC,GAAG,MAAM,IAAI,CAAC;AACpF;AAEO,SAAS,UAAU,KAAa;IACrC,MAAM,MAAM,IAAI,WAAW;IAC3B,OAAO,eAAe,CAAC;IACvB,OAAO;WAAI;KAAI,CAAC,GAAG,CAAC,CAAA,IAAK,EAAE,QAAQ,CAAC,IAAI,QAAQ,CAAC,GAAG,MAAM,IAAI,CAAC;AACjE"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20Folder/project/tartanhacks/ticketing/lib/xrplMemo.ts"],"sourcesContent":["// lib/xrplMemo.ts\r\nexport function utf8ToHex(str: string): string {\r\n  return Buffer.from(str, \"utf8\").toString(\"hex\").toUpperCase();\r\n}\r\n\r\nexport function makeCommitMemo(eventId: string, tierId: string, commitHash: string) {\r\n  // Keep it short. XRPL memos are hex strings.\r\n  const memoString = `COMMIT|${eventId}|${tierId}|${commitHash}`;\r\n  return {\r\n    Memo: {\r\n      MemoType: utf8ToHex(\"FEN\"),\r\n      MemoData: utf8ToHex(memoString),\r\n    },\r\n  };\r\n}\r\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;;AAET;AADF,SAAS,UAAU,GAAW;IACnC,OAAO,qLAAM,CAAC,IAAI,CAAC,KAAK,QAAQ,QAAQ,CAAC,OAAO,WAAW;AAC7D;AAEO,SAAS,eAAe,OAAe,EAAE,MAAc,EAAE,UAAkB;IAChF,6CAA6C;IAC7C,MAAM,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC,EAAE,OAAO,CAAC,EAAE,YAAY;IAC9D,OAAO;QACL,MAAM;YACJ,UAAU,UAAU;YACpB,UAAU,UAAU;QACtB;IACF;AACF"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20Folder/project/tartanhacks/ticketing/app/event/%5BeventId%5D/EventClient.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { requiredStakeXrp } from \"@/lib/stake\";\r\nimport { randomHex, sha256Hex } from \"@/lib/hash\";\r\nimport { makeCommitMemo } from \"@/lib/xrplMemo\";\r\nimport * as xrpl from \"xrpl\";\r\n\r\nexport default function EventClient({ eventId }: { eventId: string }) {\r\n  const [seed, setSeed] = useState(\"\");\r\n  const [walletAddr, setWalletAddr] = useState(\"\");\r\n\r\n  // Helper for explorer links\r\n  const explorerUrl = (type: \"tx\" | \"nft\" | \"address\", id: string) => `https://testnet.xrpl.org/${type === \"tx\" ? \"transactions\" : type}/${id}`;\r\n\r\n  // Persist seed\r\n  useEffect(() => {\r\n    const savedSeed = localStorage.getItem(\"fen_wallet_seed\");\r\n    if (savedSeed) setSeed(savedSeed);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (seed) localStorage.setItem(\"fen_wallet_seed\", seed);\r\n  }, [seed]);\r\n\r\n  const [score, setScore] = useState<number | null>(null);\r\n  const [loadingScore, setLoadingScore] = useState(false);\r\n\r\n  const [status, setStatus] = useState<string>(\"\");\r\n  const [commitHash, setCommitHash] = useState<string>(\"\");\r\n  const [secret, setSecret] = useState<string>(\"\");\r\n  const [nonce, setNonce] = useState<string>(\"\");\r\n\r\n  const xrplWs = process.env.NEXT_PUBLIC_XRPL_WS!;\r\n  const platformAddr = process.env.NEXT_PUBLIC_PLATFORM_RECEIVE_ADDRESS!;\r\n\r\n  // Hardcode tier for MVP\r\n  const tierId = \"GA\";\r\n\r\n  // Derive wallet address from seed\r\n  useEffect(() => {\r\n    try {\r\n      if (!seed.trim()) {\r\n        setWalletAddr(\"\");\r\n        return;\r\n      }\r\n      const w = xrpl.Wallet.fromSeed(seed.trim());\r\n      setWalletAddr(w.classicAddress);\r\n    } catch {\r\n      setWalletAddr(\"\");\r\n    }\r\n  }, [seed]);\r\n\r\n  // Load score based on wallet address\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    async function load() {\r\n      if (!walletAddr) {\r\n        setScore(null);\r\n        return;\r\n      }\r\n      setLoadingScore(true);\r\n      try {\r\n        const res = await fetch(`/api/score?wallet=${encodeURIComponent(walletAddr)}`);\r\n        const data = await res.json();\r\n        if (!cancelled) setScore(data.score ?? 0);\r\n      } finally {\r\n        if (!cancelled) setLoadingScore(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => { cancelled = true; };\r\n  }, [walletAddr]);\r\n\r\n  const stakeXrp = useMemo(() => (score === null ? null : requiredStakeXrp(score)), [score]);\r\n\r\n  async function doCommit() {\r\n    if (!seed.trim()) return setStatus(\"Enter a seed (testnet) to commit.\");\r\n    if (!walletAddr) return setStatus(\"Invalid seed.\");\r\n    if (!stakeXrp) return setStatus(\"Score not loaded yet.\");\r\n    if (!platformAddr?.startsWith(\"r\")) return setStatus(\"Set NEXT_PUBLIC_PLATFORM_RECEIVE_ADDRESS.\");\r\n\r\n    setStatus(\"Preparing commitâ€¦\");\r\n\r\n    // 1) Generate secret+nonce and commit hash\r\n    const sec = randomHex(16);\r\n    const non = randomHex(16);\r\n    const commitInput = `${eventId}|${tierId}|${walletAddr}|${sec}|${non}`;\r\n    const cHash = await sha256Hex(commitInput);\r\n\r\n    setSecret(sec);\r\n    setNonce(non);\r\n    setCommitHash(cHash);\r\n\r\n    // 2) Submit stake payment with memo\r\n    const client = new xrpl.Client(xrplWs);\r\n    try {\r\n      await client.connect();\r\n      const wallet = xrpl.Wallet.fromSeed(seed.trim());\r\n\r\n      const memo = makeCommitMemo(eventId, tierId, cHash);\r\n\r\n      const tx: xrpl.Payment = {\r\n        TransactionType: \"Payment\",\r\n        Account: wallet.classicAddress,\r\n        Destination: platformAddr,\r\n        Amount: xrpl.xrpToDrops(stakeXrp),\r\n        Memos: [memo],\r\n      };\r\n\r\n      setStatus(\"Submitting stake payment to XRPLâ€¦\");\r\n\r\n      const result = await client.submitAndWait(tx, { wallet });\r\n\r\n      const txHash =\r\n        (result.result as any)?.hash ||\r\n        (result.result as any)?.tx_json?.hash;\r\n\r\n      if (!txHash) {\r\n        console.error(result);\r\n        setStatus(\"Submitted, but couldnâ€™t read tx hash. Check console.\");\r\n        return;\r\n      }\r\n\r\n      setStatus(`On-ledger commit tx confirmed: ${txHash}. Savingâ€¦`);\r\n\r\n      // 3) Store commit in backend\r\n      const saveRes = await fetch(\"/api/queue/commit\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          eventId,\r\n          tierId,\r\n          wallet: walletAddr,\r\n          stakeXrp,\r\n          commitHash: cHash,\r\n          commitTxHash: txHash,\r\n        }),\r\n      });\r\n\r\n      const saveJson = await saveRes.json();\r\n      if (!saveRes.ok) {\r\n        setStatus(`Commit saved failed: ${saveJson.error || \"unknown error\"}`);\r\n        return;\r\n      }\r\n\r\n      setStatus(\"âœ… Commit complete (stake paid, memo on-chain, stored).\");\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      setStatus(`Commit failed: ${e?.message || String(e)}`);\r\n    } finally {\r\n      try { await client.disconnect(); } catch { }\r\n    }\r\n  }\r\n\r\n  // Poll queue status\r\n  const [queueStatus, setQueueStatus] = useState<any>(null);\r\n  useEffect(() => {\r\n    if (!walletAddr) {\r\n      setQueueStatus(null);\r\n      return;\r\n    }\r\n    const timer = setInterval(async () => {\r\n      try {\r\n        const res = await fetch(`/api/queue/status?eventId=${eventId}&tierId=${tierId}&wallet=${walletAddr}`);\r\n        const data = await res.json();\r\n        setQueueStatus(data);\r\n\r\n        // Auto-load secret/nonce from localStorage if found\r\n        const key = `fen_commit_${eventId}_${tierId}_${walletAddr}`;\r\n        const saved = localStorage.getItem(key);\r\n        if (saved) {\r\n          const { secret: s, nonce: n, hash: h } = JSON.parse(saved);\r\n          setSecret(s);\r\n          setNonce(n);\r\n          setCommitHash(h);\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Queue poll error\", e);\r\n      }\r\n    }, 3000);\r\n    return () => clearInterval(timer);\r\n  }, [walletAddr, eventId, tierId]);\r\n\r\n  // Save secret/nonce to localStorage when generated\r\n  useEffect(() => {\r\n    if (commitHash && secret && nonce && walletAddr) {\r\n      const key = `fen_commit_${eventId}_${tierId}_${walletAddr}`;\r\n      localStorage.setItem(key, JSON.stringify({ secret, nonce, hash: commitHash }));\r\n    }\r\n  }, [commitHash, secret, nonce, walletAddr, eventId, tierId]);\r\n\r\n  async function doReveal() {\r\n    if (!secret || !nonce) return setStatus(\"Missing secret/nonce. Did you clear your cache?\");\r\n    setStatus(\"Revealing and purchasing ticket (processing refund + NFT mint)â€¦\");\r\n\r\n    try {\r\n      const res = await fetch(\"/api/queue/reveal\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ eventId, tierId, wallet: walletAddr, secret, nonce }),\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) {\r\n        setStatus(`Reveal failed: ${data.error}`);\r\n        return;\r\n      }\r\n      setStatus(\"âœ… Success! Your stake has been refunded and your NFT ticket is being minted.\");\r\n    } catch (e: any) {\r\n      setStatus(`Reveal error: ${e.message}`);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div style={{ display: \"grid\", gap: 10, maxWidth: 720 }}>\r\n        <h2>1. Identity & Score</h2>\r\n        <label>\r\n          Testnet seed (MVP/dev only):\r\n          <input\r\n            value={seed}\r\n            onChange={(e) => setSeed(e.target.value)}\r\n            placeholder=\"sâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ...\"\r\n            style={{ marginLeft: 8, width: \"100%\", padding: 8, background: \"#111\", color: \"#fff\", border: \"1px solid #333\" }}\r\n          />\r\n        </label>\r\n\r\n        <div>\r\n          <b>Wallet:</b> {walletAddr || <span style={{ opacity: 0.6 }}>â€”</span>}\r\n        </div>\r\n\r\n        <div>\r\n          {loadingScore && <div>Loading scoreâ€¦</div>}\r\n          {!loadingScore && score !== null && (\r\n            <div style={{ padding: 12, border: \"1px solid #333\", borderRadius: 8, background: \"#0a0a0a\" }}>\r\n              <div><b>FenScore:</b> {score}</div>\r\n              <div><b>Required stake:</b> {stakeXrp} XRP</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {walletAddr && (!queueStatus || queueStatus.status === \"not_found\") && (\r\n          <>\r\n            <h2>2. Stake & Queue</h2>\r\n            <button onClick={doCommit} style={{ padding: \"10px 12px\", width: \"100%\", background: \"#0070f3\", color: \"white\", border: \"none\", borderRadius: 4, cursor: \"pointer\" }}>\r\n              Commit (stake {stakeXrp} XRP)\r\n            </button>\r\n          </>\r\n        )}\r\n\r\n        {queueStatus && queueStatus.status === \"committed\" && (\r\n          <div style={{ padding: 12, border: \"1px solid #0070f3\", borderRadius: 8, background: \"rgba(0, 112, 243, 0.1)\" }}>\r\n            <h2>2. Queue Status</h2>\r\n            <div style={{ fontSize: 20, fontWeight: \"bold\" }}>Position: #{queueStatus.position} / {queueStatus.total}</div>\r\n            <div style={{ opacity: 0.8, marginTop: 8 }}>\r\n              You have staked {queueStatus.entry.stakeXrp} XRP. Your commitment is on-ledger.\r\n              {queueStatus.entry.commitTxHash && (\r\n                <div style={{ marginTop: 4 }}>\r\n                  <a href={explorerUrl(\"tx\", queueStatus.entry.commitTxHash)} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: \"#0070f3\", fontSize: 12 }}>\r\n                    View Commit Tx on Explorer â†—\r\n                  </a>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <h2 style={{ marginTop: 24 }}>3. Buy Ticket (Reveal)</h2>\r\n            <p style={{ fontSize: 13, opacity: 0.7 }}>\r\n              Ready to buy? This will reveal your secret, refund your {queueStatus.entry.stakeXrp} XRP stake, and mint your NFT ticket.\r\n              <b> You will then need to accept the NFT offer to pay the ticket price.</b>\r\n            </p>\r\n\r\n            <button onClick={doReveal} style={{ padding: \"10px 12px\", width: \"100%\", background: \"#27ae60\", color: \"white\", border: \"none\", borderRadius: 4, cursor: \"pointer\" }}>\r\n              Reveal & Buy Ticket\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {queueStatus && queueStatus.status === \"claimed\" && (\r\n          <div style={{ padding: 12, border: \"1px solid #27ae60\", borderRadius: 8, background: \"rgba(39, 174, 96, 0.1)\" }}>\r\n            <h2>ðŸŽ‰ Ticket Secured!</h2>\r\n            <p>Your stake has been refunded. Your NFT ticket is minted and a 1 XRP offer has been created for you.</p>\r\n            <div style={{ fontSize: 12, opacity: 0.7, wordBreak: \"break-all\" }}>\r\n              <b>Refund Tx:</b> <a href={explorerUrl(\"tx\", queueStatus.entry.revealTxHash)} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: \"#27ae60\" }}>{queueStatus.entry.revealTxHash}</a><br />\r\n              <b>NFT ID:</b> <a href={explorerUrl(\"nft\", queueStatus.entry.nftId)} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: \"#27ae60\" }}>{queueStatus.entry.nftId}</a><br />\r\n              <b>Offer Tx:</b> <a href={explorerUrl(\"tx\", queueStatus.entry.offerTxHash)} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: \"#27ae60\" }}>{queueStatus.entry.offerTxHash || \"N/A\"}</a>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n\r\n        {status && (\r\n          <div style={{ marginTop: 12, padding: 10, background: \"#222\", borderRadius: 4, fontSize: 14 }}>\r\n            {status}\r\n          </div>\r\n        )}\r\n\r\n        {queueStatus && queueStatus.queueList && (\r\n          <div style={{ marginTop: 24, padding: 16, border: \"1px solid #333\", borderRadius: 8, background: \"#050505\" }}>\r\n            <h2 style={{ marginTop: 0 }}>4. Live Queue (On-Ledger)</h2>\r\n            <div style={{ display: \"grid\", gap: 10 }}>\r\n              {queueStatus.queueList.map((q: any, i: number) => {\r\n                const isMe = q.wallet === walletAddr;\r\n                return (\r\n                  <div key={i} style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    alignItems: \"center\",\r\n                    padding: \"8px 12px\",\r\n                    background: isMe ? \"rgba(0, 112, 243, 0.1)\" : \"#111\",\r\n                    border: isMe ? \"1px solid #0070f3\" : \"1px solid #222\",\r\n                    borderRadius: 6\r\n                  }}>\r\n                    <div>\r\n                      <div style={{ fontSize: 13, fontWeight: \"bold\" }}>\r\n                        #{i + 1} {q.wallet.slice(0, 8)}...{q.wallet.slice(-4)} {isMe && \"(You)\"}\r\n                      </div>\r\n                      <div style={{ fontSize: 11, opacity: 0.6 }}>\r\n                        Staked at {new Date(q.createdAt).toLocaleTimeString()}\r\n                      </div>\r\n                    </div>\r\n                    <a\r\n                      href={explorerUrl(\"tx\", q.commitTxHash)}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      style={{ fontSize: 11, color: \"#0070f3\", textDecoration: \"none\" }}\r\n                    >\r\n                      Verify Tx â†—\r\n                    </a>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}